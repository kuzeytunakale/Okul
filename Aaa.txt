pip install pocketsphinx

import speech_recognition as sr
from pynput.keyboard import Controller, Key

keyboard = Controller()

# Ses tanıma nesnesini oluştur
r = sr.Recognizer()

# Mikrofonu kaynak olarak kullan
with sr.Microphone() as source:
    print("Sesli komut bekleniyor (sadece 'zip' demelisiniz)...")
    r.adjust_for_ambient_noise(source)  # Ortam gürültüsüne göre ayarlama yap

    while True:
        try:
            print("Konuşun:")
            audio = r.listen(source)

            try:
                # Sphinx kullanarak sesi metne çevir
                # `keyword_entries` parametresi ile sadece belirli kelimeleri dinleyebiliriz.
                # Pocketsphinx genellikle anahtar kelimeleri büyük harfle bekler.
                recognized = r.recognize_sphinx(audio, keyword_entries=[("ZIP", 1)])
                print(f"Algılanan: {recognized}")

                if "zip" in recognized.lower():
                    print("ZIP komutu algılandı! Boşluk tuşuna basılıyor...")
                    keyboard.press(Key.space)
                    keyboard.release(Key.space)
                    print("Dinozor zıpladı!")

            except sr.UnknownValueError:
                print("Ses anlaşılamadı.")
            except sr.RequestError as e:
                print(f"Sphinx servisinden cevap alınamadı; {e}")
            except Exception as e:
                print(f"Bir hata oluştu: {e}")

        except KeyboardInterrupt:
            print("\nProgram sonlandırıldı.")
